{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["Filter","search","handleSearch","value","onChange","Notification","message","type","className","PersonForm","addPerson","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","trim","target","Person","person","handleDelete","name","number","onClick","Persons","persons","map","id","baseUrl","phoneBookService","getAll","axios","get","then","response","data","create","newObject","post","update","put","deleteRecord","delete","App","setPersons","setSearch","setMessage","useEffect","initialNotes","personsToShow","filter","toLowerCase","includes","setTimeout","str","find","item","window","confirm","changedPerson","returnedPerson","catch","error","personObject","length","concat","_","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.630570b4.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Filter = ({ search, handleSearch }) => (\n  <div>\n    filter shown with <input value={search} onChange={handleSearch} />\n  </div>\n)\n\nexport default Filter\n","import React from \"react\"\n\nconst Notification = ({ message, type }) => {\n  if (!message) {\n    return null\n  }\n\n  if (type === \"success\") {\n    return <div className=\"success\">{message}</div>\n  }\n\n  if (type === \"error\") {\n    return <div className=\"error\">{message}</div>\n  }\n}\n\nexport default Notification\n","import React, { useState } from \"react\"\n\nconst PersonForm = ({ addPerson }) => {\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    addPerson(newName.trim(), newNumber.trim())\n\n    setNewName(\"\")\n    setNewNumber(\"\")\n  }\n\n  const handleNoteChange = (event) => setNewName(event.target.value)\n\n  const handlePhoneNumberChange = (event) => setNewNumber(event.target.value)\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={newName} onChange={handleNoteChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handlePhoneNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default PersonForm\n","import React from \"react\"\n\nconst Person = ({ person, handleDelete }) => (\n  <li>\n    {person.name} {person.number}\n    <button onClick={handleDelete}>Delete</button>\n  </li>\n)\n\nexport default Person\n","import React from \"react\"\nimport Person from \"./Person\"\n\nconst Persons = ({ persons, handleDelete }) => (\n  <>\n    <ul>\n      {persons.map((person) => (\n        <Person\n          key={person.id}\n          person={person}\n          handleDelete={() => handleDelete(person)}\n        />\n      ))}\n    </ul>\n  </>\n)\n\nexport default Persons\n","import axios from \"axios\"\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nconst deleteRecord = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nconst phoneBookService = {\n  getAll,\n  create,\n  update,\n  deleteRecord,\n}\n\nexport default phoneBookService\n","import React, { useState, useEffect } from \"react\"\nimport Filter from \"./components/Filter\"\nimport Notification from \"./components/Notification\"\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport phoneBookService from \"./services/phonebook\"\n\nconst checkIfNameExist = (arr, str) =>\n  arr.find(\n    (item) => item.name.trim().toLowerCase() === str.trim().toLowerCase()\n  )\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [search, setSearch] = useState(\"\")\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    phoneBookService.getAll().then((initialNotes) => {\n      setPersons(initialNotes)\n    })\n  }, [])\n\n  const personsToShow = search\n    ? persons.filter((person) =>\n        person.name.trim().toLowerCase().includes(search.trim().toLowerCase())\n      )\n    : persons\n\n  const addPerson = (newName, newNumber) => {\n    if (!newName || !newNumber) {\n      setMessage({\n        message: \"name or number is missing\",\n        type: \"error\",\n      })\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      return\n    }\n    const person = checkIfNameExist(persons, newName)\n    if (person) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const changedPerson = { ...person, number: newNumber }\n\n        phoneBookService\n          .update(changedPerson.id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== changedPerson.id ? person : returnedPerson\n              )\n            )\n            setMessage({ message: `Updated ${person.name}`, type: \"success\" })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch((error) => {\n            setMessage({\n              message: error.message,\n              type: \"error\",\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      }\n\n      phoneBookService\n        .create(personObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage({\n            message: `Added ${returnedPerson.name}`,\n            type: \"success\",\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          setMessage({\n            message: error.message,\n            type: \"error\",\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleSearch = (event) => setSearch(event.target.value)\n\n  const handleDelete = ({ name, id }) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      phoneBookService\n        .deleteRecord(id)\n        .then((_) => {\n          setPersons(persons.filter((person) => person.id !== id))\n          setMessage({ message: `Deleted ${name}`, type: \"success\" })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          setMessage({\n            message: `Information of ${name} has already been removed from server`,\n            type: \"error\",\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setPersons(persons.filter((person) => person.id !== id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification {...message} />\n      <Filter search={search} handleSearch={handleSearch} />\n      <h3>Add a new</h3>\n      <PersonForm addPerson={addPerson} />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from \"react-dom\"\nimport App from \"./App.js\"\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}