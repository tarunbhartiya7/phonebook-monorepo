{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["Filter","search","handleSearch","value","onChange","Notification","message","type","className","PersonForm","addPerson","newName","newNumber","setNewName","setNewNumber","onSubmit","event","preventDefault","trim","target","Person","person","handleDelete","name","number","onClick","Persons","persons","map","id","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","put","deleteRecord","delete","App","useState","setPersons","setSearch","setMessage","useEffect","initialNotes","personsToShow","filter","toLowerCase","includes","setTimeout","str","find","item","window","confirm","changedPerson","returnedPerson","catch","error","personObject","length","concat","_","ReactDOM","render","document","getElementById"],"mappings":"kLAQeA,EANA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,aAAX,OACb,qDACoB,uBAAOC,MAAOF,EAAQG,SAAUF,QCYvCG,EAdM,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,KAC/B,OAAKD,EAIQ,YAATC,EACK,qBAAKC,UAAU,UAAf,SAA0BF,IAGtB,UAATC,EACK,qBAAKC,UAAU,QAAf,SAAwBF,SADjC,EAPS,MC+BIG,EAjCI,SAAC,GAMb,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,WACAC,EACI,EADJA,aAWA,OACE,mCACE,uBAAMC,SAXW,SAACC,GACpBA,EAAMC,iBACNP,EAAUC,EAAQO,OAAQN,EAAUM,SASlC,UACE,yCACQ,uBAAOf,MAAOQ,EAASP,SARZ,SAACY,GAAD,OAAWH,EAAWG,EAAMG,OAAOhB,aAUtD,2CACU,uBAAOA,MAAOS,EAAWR,SATT,SAACY,GAAD,OAAWF,EAAaE,EAAMG,OAAOhB,aAW/D,8BACE,wBAAQI,KAAK,SAAb,yBCnBKa,EAPA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,aAAX,OACb,+BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,wBAAQC,QAASH,EAAjB,wBCYWI,EAdC,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASL,EAAZ,EAAYA,aAAZ,OACd,mCACE,6BACGK,EAAQC,KAAI,SAACP,GAAD,OACX,cAAC,EAAD,CAEEA,OAAQA,EACRC,aAAc,kBAAMA,EAAaD,KAF5BA,EAAOQ,Y,gBCPhBC,EAAU,eA6BDC,EAPO,CACpBC,OArBa,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAACC,GAAD,OAAcA,EAASC,SAoB3CC,OAjBa,SAACC,GAEd,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAACC,GAAD,OAAcA,EAASC,SAgB3CI,OAba,SAACZ,EAAIU,GAElB,OADgBN,IAAMS,IAAN,UAAaZ,EAAb,YAAwBD,GAAMU,GAC/BJ,MAAK,SAACC,GAAD,OAAcA,EAASC,SAY3CM,aATmB,SAACd,GAEpB,OADgBI,IAAMW,OAAN,UAAgBd,EAAhB,YAA2BD,IAC5BM,MAAK,SAACC,GAAD,OAAcA,EAASC,UCsI9BQ,EA9IH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTnB,EADS,KACAoB,EADA,OAEYD,mBAAS,IAFrB,mBAET7C,EAFS,KAED+C,EAFC,OAGcF,mBAAS,MAHvB,mBAGTxC,EAHS,KAGA2C,EAHA,OAIcH,mBAAS,IAJvB,mBAITnC,EAJS,KAIAE,EAJA,OAKkBiC,mBAAS,IAL3B,mBAKTlC,EALS,KAKEE,EALF,KAOhBoC,qBAAU,WACRnB,EAAcC,SAASG,MAAK,SAACgB,GAC3BJ,EAAWI,QAEZ,IAEH,IAAMC,EAAgBnD,EAClB0B,EAAQ0B,QAAO,SAAChC,GAAD,OACbA,EAAOE,KAAKL,OAAOoC,cAAcC,SAAStD,EAAOiB,OAAOoC,kBAE1D3B,EA0GJ,OACE,gCACE,2CACA,cAAC,EAAD,eAAkBrB,IAClB,cAAC,EAAD,CAAQL,OAAQA,EAAQC,aA9BP,SAACc,GAAD,OAAWgC,EAAUhC,EAAMG,OAAOhB,UA+BnD,2CACA,cAAC,EAAD,CACEO,UA/GY,SAACC,EAASC,GAC1B,IAAKD,IAAYC,EAQf,OAPAqC,EAAW,CACT3C,QAAS,4BACTC,KAAM,eAERiD,YAAW,WACTP,EAAW,QACV,KAGL,IAnC2BQ,EAmCrBpC,GAnCqBoC,EAmCc9C,EAATgB,EAlC9B+B,MACF,SAACC,GAAD,OAAUA,EAAKpC,KAAKL,OAAOoC,gBAAkBG,EAAIvC,OAAOoC,kBAkCxD,GAAIjC,GACF,GACEuC,OAAOC,QAAP,UACKlD,EADL,2EAGA,CACA,IAAMmD,EAAa,2BAAQzC,GAAR,IAAgBG,OAAQZ,IAE3CmB,EACGU,OAAOqB,EAAcjC,GAAIiC,GACzB3B,MAAK,SAAC4B,GACLhB,EACEpB,EAAQC,KAAI,SAACP,GAAD,OACVA,EAAOQ,KAAOiC,EAAcjC,GAAKR,EAAS0C,MAG9ClD,EAAW,IACXC,EAAa,IACbmC,EAAW,CAAE3C,QAAQ,WAAD,OAAae,EAAOE,MAAQhB,KAAM,YACtDiD,YAAW,WACTP,EAAW,QACV,QAEJe,OAAM,SAACC,GACNhB,EAAW,CACT3C,QAAS2D,EAAM7B,SAASC,KAAK4B,MAC7B1D,KAAM,UAERiD,YAAW,WACTP,EAAW,QACV,aAGJ,CACL,IAAMiB,EAAe,CACnB3C,KAAMZ,EACNa,OAAQZ,EACRiB,GAAIF,EAAQwC,OAAS,GAGvBpC,EACGO,OAAO4B,GACP/B,MAAK,SAAC4B,GACLhB,EAAWpB,EAAQyC,OAAOL,IAC1BlD,EAAW,IACXC,EAAa,IACbmC,EAAW,CACT3C,QAAQ,SAAD,OAAWyD,EAAexC,MACjChB,KAAM,YAERiD,YAAW,WACTP,EAAW,QACV,QAEJe,OAAM,SAACC,GACNhB,EAAW,CACT3C,QAAS2D,EAAM7B,SAASC,KAAK4B,MAC7B1D,KAAM,UAERiD,YAAW,WACTP,EAAW,QACV,UAuCLtC,QAASA,EACTC,UAAWA,EACXC,WAAYA,EACZC,aAAcA,IAEhB,yCACA,cAAC,EAAD,CAASa,QAASyB,EAAe9B,aAtChB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,KAAMM,EAAS,EAATA,GACxB+B,OAAOC,QAAP,iBAAyBtC,EAAzB,QACFQ,EACGY,aAAad,GACbM,MAAK,SAACkC,GACLtB,EAAWpB,EAAQ0B,QAAO,SAAChC,GAAD,OAAYA,EAAOQ,KAAOA,MACpDoB,EAAW,CAAE3C,QAAQ,WAAD,OAAaiB,GAAQhB,KAAM,YAC/CiD,YAAW,WACTP,EAAW,QACV,QAEJe,OAAM,SAACC,GACNhB,EAAW,CACT3C,QAAQ,kBAAD,OAAoBiB,EAApB,yCACPhB,KAAM,UAERiD,YAAW,WACTP,EAAW,QACV,KACHF,EAAWpB,EAAQ0B,QAAO,SAAChC,GAAD,OAAYA,EAAOQ,KAAOA,gB,MC9H9DyC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.ccdef9bf.chunk.js","sourcesContent":["import React from \"react\"\n\nconst Filter = ({ search, handleSearch }) => (\n  <div>\n    filter shown with <input value={search} onChange={handleSearch} />\n  </div>\n)\n\nexport default Filter\n","import React from \"react\"\n\nconst Notification = ({ message, type }) => {\n  if (!message) {\n    return null\n  }\n\n  if (type === \"success\") {\n    return <div className=\"success\">{message}</div>\n  }\n\n  if (type === \"error\") {\n    return <div className=\"error\">{message}</div>\n  }\n}\n\nexport default Notification\n","import React from \"react\"\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  setNewName,\n  setNewNumber,\n}) => {\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    addPerson(newName.trim(), newNumber.trim())\n  }\n\n  const handleNoteChange = (event) => setNewName(event.target.value)\n\n  const handlePhoneNumberChange = (event) => setNewNumber(event.target.value)\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={newName} onChange={handleNoteChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handlePhoneNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default PersonForm\n","import React from \"react\"\n\nconst Person = ({ person, handleDelete }) => (\n  <li>\n    {person.name} {person.number}\n    <button onClick={handleDelete}>Delete</button>\n  </li>\n)\n\nexport default Person\n","import React from \"react\"\nimport Person from \"./Person\"\n\nconst Persons = ({ persons, handleDelete }) => (\n  <>\n    <ul>\n      {persons.map((person) => (\n        <Person\n          key={person.id}\n          person={person}\n          handleDelete={() => handleDelete(person)}\n        />\n      ))}\n    </ul>\n  </>\n)\n\nexport default Persons\n","import axios from \"axios\"\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nconst deleteRecord = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nconst personService = {\n  getAll,\n  create,\n  update,\n  deleteRecord,\n}\n\nexport default personService\n","import React, { useState, useEffect } from \"react\"\nimport Filter from \"./components/Filter\"\nimport Notification from \"./components/Notification\"\nimport PersonForm from \"./components/PersonForm\"\nimport Persons from \"./components/Persons\"\nimport personService from \"./services/phonebook\"\n\nconst checkIfNameExist = (arr, str) =>\n  arr.find(\n    (item) => item.name.trim().toLowerCase() === str.trim().toLowerCase()\n  )\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [search, setSearch] = useState(\"\")\n  const [message, setMessage] = useState(null)\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n\n  useEffect(() => {\n    personService.getAll().then((initialNotes) => {\n      setPersons(initialNotes)\n    })\n  }, [])\n\n  const personsToShow = search\n    ? persons.filter((person) =>\n        person.name.trim().toLowerCase().includes(search.trim().toLowerCase())\n      )\n    : persons\n\n  const addPerson = (newName, newNumber) => {\n    if (!newName || !newNumber) {\n      setMessage({\n        message: \"name or number is missing\",\n        type: \"error\",\n      })\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      return\n    }\n    const person = checkIfNameExist(persons, newName)\n    if (person) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const changedPerson = { ...person, number: newNumber }\n\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== changedPerson.id ? person : returnedPerson\n              )\n            )\n            setNewName(\"\")\n            setNewNumber(\"\")\n            setMessage({ message: `Updated ${person.name}`, type: \"success\" })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch((error) => {\n            setMessage({\n              message: error.response.data.error,\n              type: \"error\",\n            })\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      }\n\n      personService\n        .create(personObject)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setMessage({\n            message: `Added ${returnedPerson.name}`,\n            type: \"success\",\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          setMessage({\n            message: error.response.data.error,\n            type: \"error\",\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleSearch = (event) => setSearch(event.target.value)\n\n  const handleDelete = ({ name, id }) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService\n        .deleteRecord(id)\n        .then((_) => {\n          setPersons(persons.filter((person) => person.id !== id))\n          setMessage({ message: `Deleted ${name}`, type: \"success\" })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch((error) => {\n          setMessage({\n            message: `Information of ${name} has already been removed from server`,\n            type: \"error\",\n          })\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          setPersons(persons.filter((person) => person.id !== id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification {...message} />\n      <Filter search={search} handleSearch={handleSearch} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from \"react-dom\"\nimport App from \"./App.js\"\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}